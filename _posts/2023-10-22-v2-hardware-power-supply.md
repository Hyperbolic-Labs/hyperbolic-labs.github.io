---
layout: post
title: V2 Hardware - Power Supply
---

After re-reviewing my low temperature battery options, I discovered that Energizer's AA lithium batteries are a better choice due to their better energy density compared to a CR123A. The downside is that the boost converter will have to work a little harder since the nominal voltage is ~1.4V instead of 3.0V. In practice, this means I need to find a boost converter capable of operating down to 0.8V or less in order to extract as much energy as possible. There aren't too many boost converters available that can work this low. Another thing I had to watch out for was minimum startup voltage. Several boost converters I was considering needed a minimum of 1.8V to reliably start, and then could operate much lower due to internal bootstrap. Eventually I found TPS61021A from Texas Instruments. This chip can start up from an input as low as 0.9V, and can deliver plenty of current. Conveniently it operates at a much higher frequency than the old MCP1640 so I can use a much smaller inductor. Like the V1 design, the boost converter output is filtered through an LDO that cleans up some of the noise. To reduce power consumption at low load currents, most switching converters transition to psuedo-pwm mode, only charging up the output capacitors when the output voltage drops too low. This manifests a low frequency (~kHz) sawtooth waveform imposed on the output. For digital circuits this usually isn't an issue, but this will negatively impact the GPS and analog sensor readings. I went with a 3.3V TPS7A20 regulator which has excellent PSRR and noise characteristics, and doesn't add much cost. I configured the boost converter output for 3.6V which should give the LDO just barely enough headroom to adequately filter out noise. 5V USB power is fed in via a diode to this 3.6V node; this created some issues that I'll detail later. 
